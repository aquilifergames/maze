<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Safe Zone</title>
        <script src="phaser.min.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    window.onload = function() {

        var game = new Phaser.Game(770, 770, Phaser.CANVAS, '', { preload: preload, create: create, update: update });
        // 0 = wall | 1 = floor | 2 = safe zone
        var grid = [
        [2,0,1,0,0,0,0,0,0,0,0,0,0,0],
        [1,1,1,1,1,1,1,1,1,0,1,1,1,0],
        [0,0,0,0,0,0,0,0,1,0,1,0,1,0],
        [0,0,1,1,1,0,1,1,1,1,1,0,1,0],
        [0,1,1,0,1,0,1,0,0,0,1,0,1,0],
        [0,1,0,0,1,1,1,0,0,0,1,1,1,0],
        [0,1,0,0,0,0,0,0,0,0,1,0,0,0],
        [0,1,1,1,1,1,2,1,1,1,1,1,0,0],
        [0,0,1,0,0,1,0,1,0,1,0,1,0,0],
        [0,0,1,0,0,0,0,0,0,1,0,0,0,0],
        [0,0,0,0,1,1,1,1,1,1,1,1,1,0],
        [1,1,1,1,1,0,0,0,1,0,0,0,0,0],
        [1,0,0,0,1,1,1,0,1,1,1,1,1,1],
        [0,0,1,1,1,0,1,0,0,0,0,0,0,2]

        ];

        var map;

        function preload () {
            game.load.image('wallBlock', 'assets/stoneFloor.png');
            game.load.image('pathBlock', 'assets/woodfloor.jpg ');
            game.load.image('doorBlock', 'assets/greenzone.png');

            game.load.tilemap('map', 'assets/map1.json', null, Phaser.Tilemap.TILED_JSON);
            game.load.image('tiles', 'assets/tilesheet_complete.png');
        }

        function create () {
            var wallBlock = new Block('wallBlock', game.cache.getImage('wallBlock').width);
            var pathBlock = new Block('pathBlock', game.cache.getImage('pathBlock').width);
            var doorBlock = new Block('doorBlock', game.cache.getImage('doorBlock').width);
                game.stage.backgroundColor = '#787878';

           map = game.add.tilemap('map',50,50);
           map.addTilesetImage('tilesheet_complete', 'tiles');
           //map.addTilesetImage('tilesheet_complete', 'tiles');

           layer = map.createLayer(0);
            map.createLayer(1);

           

           
        }

        function update () {

        }

        /********** [ DOMAIN OBJECTS ] **********/
        var Block = function (imageKey, size) {
            this.size = size;
            this.imageKey = imageKey;
        }

    };

    </script>

    </body>
</html>